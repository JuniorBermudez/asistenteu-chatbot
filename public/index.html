<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AsistenteU - Soporte Universitario</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <div class="header-content">
                <div class="bot-avatar">üéì</div>
                <div class="header-text">
                    <h2>AsistenteU</h2>
                    <div class="status">
                        <div class="status-dot"></div>
                        En l√≠nea
                    </div>
                </div>
            </div>
        </div>

        <div class="chat-messages" id="chat-messages">
            <div class="message bot-message">
                <div class="avatar">ü§ñ</div>
                <div class="content">
                    ¬°Hola! Soy tu AsistenteU, el bot de soporte t√©cnico universitario. Estoy aqu√≠ para ayudarte con cualquier consulta. ¬øEn qu√© puedo asistirte hoy?
                    <div class="quick-replies">
                        <div class="quick-reply" onclick="sendQuickReply('Admisiones')">Admisiones</div>
                        <div class="quick-reply" onclick="sendQuickReply('Oferta acad√©mica')">Oferta Acad√©mica</div>
                        <div class="quick-reply" onclick="sendQuickReply('Calendario acad√©mico')">Calendario Acad√©mico</div>
                        <div class="quick-reply" onclick="sendQuickReply('Soporte t√©cnico')">Soporte T√©cnico</div>
                        <div class="quick-reply" onclick="sendQuickReply('Bienestar universitario')">Bienestar Universitario</div>
                        <div class="quick-reply" onclick="sendQuickReply('Matr√≠cula Cero')">Matr√≠cula Cero</div>
                        <div class="quick-reply" onclick="sendQuickReply('Tr√°mites administrativos')">Tr√°mites Administrativos</div>
                        <div class="quick-reply" onclick="sendQuickReply('Contacto')">Contacto</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="chat-input">
            <div class="input-container">
                <textarea id="user-input" placeholder="Escribe tu consulta aqu√≠..." rows="1"></textarea>
                <button id="send-button">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="m22 2-7 20-4-9-9-4z"/>
                        <path d="M22 2 11 13"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script>
        const chatMessages = document.getElementById('chat-messages');
        const userInput = document.getElementById('user-input');
        const sendButton = document.getElementById('send-button');

        const botResponses = {
            'saludo': 'üëã ¬°Hola! ¬øEn qu√© puedo ayudarte hoy? Selecciona una de las opciones disponibles abajo:',
            'despedida': 'üëã ¬°Hasta luego! Si necesitas m√°s ayuda, aqu√≠ estar√© üòä',
            'agradecimiento': 'üôè ¬°Con gusto! Si tienes m√°s preguntas, no dudes en escribirme.',
            'admisiones': 'üéì Informaci√≥n sobre admisiones en UNIPAZ:\n\n‚Ä¢ Inscripciones abiertas: Fechas actualizadas en la web\n‚Ä¢ Formulario de inscripci√≥n disponible en www.unipaz.edu.co (https://www.unipaz.edu.co)\n‚Ä¢ Requisitos: Documento de identidad, pruebas Saber 11, etc.\n‚Ä¢ Contacto: admisiones@unipaz.edu.co - Ext: 1102',
            'oferta acad√©mica': 'üìò Programas ofrecidos por UNIPAZ:\n\n‚Ä¢ Ingenier√≠a Agroindustrial\n‚Ä¢ Medicina Veterinaria\n‚Ä¢ Tecnolog√≠a en Recursos Naturales\n‚Ä¢ Derecho, Administraci√≥n, y m√°s...\n‚Ä¢ Cat√°logo completo en: www.unipaz.edu.co/oferta-academica (https://www.unipaz.edu.co/oferta-academica)',
            'calendario acad√©mico': 'üìÖ Calendario Acad√©mico:\n\n‚Ä¢ Inicio semestre A: Enero 29\n‚Ä¢ Semana Santa: Marzo 24 - 30\n‚Ä¢ Finalizaci√≥n semestre: Junio 14\n‚Ä¢ Desc√°rgalo completo en: [www.unipaz.edu.co/calendario](https://www.unipaz.edu.co/calendario)',
            'campus virtual': 'üíª Problemas con el campus virtual:\n\n‚Ä¢ Plataforma: virtual.unipaz.edu.co (https://virtual.unipaz.edu.co)\n‚Ä¢ Si no puedes acceder: verifica usuario y contrase√±a institucional\n‚Ä¢ Contacto soporte: soportevirtual@unipaz.edu.co\n‚Ä¢ Tel√©fono: (7) 6500000 ext. 2205',
            'soporte t√©cnico': 'üîß Soporte T√©cnico UNIPAZ:\n\n‚Ä¢ Correo: sistemas@unipaz.edu.co\n‚Ä¢ Chat en l√≠nea: UNIPAZ en tu Casa (https://unipaz.edu.co/soysoporte.html)\n‚Ä¢ Horario de atenci√≥n: Lunes a Viernes 8:00 am - 12:00 m, 1:30 pm - 4:00 pm',
            'bienestar universitario': 'üíö Bienestar Universitario:\n\n‚Ä¢ Servicios: Psicolog√≠a, deportes, cultura y salud\n‚Ä¢ Contacto: bienestar@unipaz.edu.co\n‚Ä¢ Oficinas en sede principal (bloque A)\n‚Ä¢ Celular: 322 270 36 65',
            'matricula cero': 'üí∞ Matr√≠cula Cero:\n\n‚Ä¢ Beneficio para estudiantes de estratos 1, 2 y 3\n‚Ä¢ Aplica para programas de pregrado\n‚Ä¢ M√°s informaci√≥n en: [noticias.unipaz.edu.co](https://noticias.unipaz.edu.co/2021/08/estudiantes-unipaz-de-estratos-1-2-y-3.html)',
            'tr√°mites administrativos': 'üìù Tr√°mites Administrativos:\n\n‚Ä¢ Certificados acad√©micos, paz y salvo, entre otros\n‚Ä¢ Solicitudes a trav√©s de la Oficina de Registro Acad√©mico\n‚Ä¢ Contacto: registro@unipaz.edu.co\n‚Ä¢ Tel√©fono: (7) 6500000 ext. 2206',
            'contacto': 'üìû Contacto UNIPAZ:\n\n‚Ä¢ Direcci√≥n: Centro de Investigaciones Santa Luc√≠a, Km 14 v√≠a Bucaramanga\n‚Ä¢ PBX: (7) 611 82 10\n‚Ä¢ Correo: atencionalciudadano@unipaz.edu.co\n‚Ä¢ Horario de atenci√≥n: Lunes a Jueves 7:00 am - 12:00 m y 1:00 pm - 5:00 pm; Viernes 7:00 am - 12:00 m y 1:00 pm - 4:00 pm',
            'default': 'üòï Lo siento, no logr√© entender tu mensaje. Por favor, elige una de las opciones disponibles para poder ayudarte mejor:'
        };

        function matchesAny(message, patterns) {
            return patterns.some(pattern => new RegExp(pattern, 'i').test(message));
        }

        function getQuickRepliesHTML() {
            return `<div class="quick-replies">
                <div class="quick-reply" onclick="sendQuickReply('Admisiones')">Admisiones</div>
                <div class="quick-reply" onclick="sendQuickReply('Oferta acad√©mica')">Oferta Acad√©mica</div>
                <div class="quick-reply" onclick="sendQuickReply('Calendario acad√©mico')">Calendario Acad√©mico</div>
                <div class="quick-reply" onclick="sendQuickReply('Soporte t√©cnico')">Soporte T√©cnico</div>
                <div class="quick-reply" onclick="sendQuickReply('Bienestar universitario')">Bienestar Universitario</div>
                <div class="quick-reply" onclick="sendQuickReply('Matr√≠cula Cero')">Matr√≠cula Cero</div>
                <div class="quick-reply" onclick="sendQuickReply('Tr√°mites administrativos')">Tr√°mites Administrativos</div>
                <div class="quick-reply" onclick="sendQuickReply('Contacto')">Contacto</div>
            </div>`;
        }

        function getBotResponse(message) {
            message = message.toLowerCase();

            if (matchesAny(message, ['\\bhola+\\b', 'buen[oa]s', 'buenos d√≠as', 'buenas tardes', 'buenas noches', 'hey+', 'ey+', 'holii+', 'holaa+', 'üëã', 'qu√© tal', 'saludos'])) {
                return botResponses['saludo'] + getQuickRepliesHTML();
            }

            if (matchesAny(message, ['ad[i√≠]o+s?', 'chao+', 'chau+', 'hasta luego', 'nos vemos', 'me voy', 'bye+', 'üëã'])) {
                return botResponses['despedida'];
            }

            if (matchesAny(message, ['grac[ia]+s+', 'mil gracias', 'te agradezco', 'se agradece', 'üôå', 'üôè'])) {
                return botResponses['agradecimiento'];
            }

            if (message.includes('admisi√≥n') || message.includes('admisiones') || message.includes('inscripci√≥n') || message.includes('inscripciones')) {
                return botResponses['admisiones'];
            } else if (message.includes('programa') || message.includes('oferta')) {
                return botResponses['oferta acad√©mica'];
            } else if (message.includes('calendario') || message.includes('fechas')) {
                return botResponses['calendario acad√©mico'];
            } else if (message.includes('campus') || message.includes('virtual') || message.includes('plataforma')) {
                return botResponses['campus virtual'];
            } else if (message.includes('soporte') || message.includes('t√©cnico') || message.includes('problema')) {
                return botResponses['soporte t√©cnico'];
            } else if (message.includes('bienestar') || message.includes('psicolog√≠a')) {
                return botResponses['bienestar universitario'];
            } else if (message.includes('matr√≠cula cero') || message.includes('beneficio')) {
                return botResponses['matricula cero'];
            } else if (message.includes('tr√°mite') || message.includes('certificado')) {
                return botResponses['tr√°mites administrativos'];
            } else if (message.includes('contacto') || message.includes('tel√©fono')) {
                return botResponses['contacto'];
            } else {
                return botResponses['default'] + getQuickRepliesHTML();
            }
        }

        function sendMessage() {
            const message = userInput.value.trim();
            if (!message) return;

            addMessage(message, 'user');
            userInput.value = '';
            userInput.style.height = '44px';

            showTypingIndicator();

            setTimeout(() => {
                hideTypingIndicator();
                const response = getBotResponse(message);
                addMessage(response, 'bot');
            }, 1500 + Math.random() * 1000);
        }

        function addMessage(content, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;

            if (sender === 'bot') {
                messageDiv.innerHTML = `<div class="avatar">ü§ñ</div><div class="content">${content.replace(/\n/g, '<br>')}</div>`;
            } else {
                messageDiv.innerHTML = `<div class="content">${content}</div>`;
            }

            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'typing-indicator';
            typingDiv.id = 'typing-indicator';
            typingDiv.innerHTML = `
                <div class="avatar">ü§ñ</div>
                <div class="typing-dots">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>`;
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) typingIndicator.remove();
        }

        function sendQuickReply(text) {
            userInput.value = text;
            sendMessage();
        }

        userInput.addEventListener('input', function () {
            this.style.height = '44px';
            this.style.height = Math.min(this.scrollHeight, 120) + 'px';
        });

        sendButton.addEventListener('click', sendMessage);

        userInput.addEventListener('keypress', function (e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        window.addEventListener('load', () => {
            userInput.focus();
        });
    </script>
</body>
</html>
